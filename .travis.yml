language: python
branches:
  only:
  - master
  - stable
python:
- '3.8'
install:
- pip3 install -r requirements.txt
- pip3 install python-coveralls
- pip3 install coverage
- pip3 install twine
script:
- coverage run --source outfit setup.py test
- python3 setup.py sdist bdist_wheel
after_success:
- coveralls
deploy:
  skip_cleanup: true
  provider: pypi
  user: __token__
  password:
    secure: Fxmqop1URZYgte8HpYV1nE+m04RfpiiizyYj1s8N+oMO1w0vO3lVbMRO6uAgDjp1d5uGy/a1tl8RMfpDpVeSjirRY7p5RdRhBdyLIiMGooDRdvDKnED/dg4y7fe+JulCYmUrWk+ZIR59PIsBPWpkiqa1j7nAfZ6tlKhWRcKbMzmbPl+EknomzDoOIn326pXpAGXhvC3roUcngYIApvwT671+JH3nwjIemgFnXibdMuGMRidlnzatvSsCRnFkS9UOQbyNYg50aVe6wl1Lted0M0+MhS0LZi4hmf/E4ljUMzLGieGTwxNZWUnDXHbzpQhQEbRp6rp7IUnjtTVwF1r6Fq5dFfH9vP2lvyZe9LLftHUHXGu/F/T1oHfncVknzIJUzuW40rFGhbMkcNDr+T3lDnaTNspa7vNFE1QlqK4Q6EF56eMReJ2FG+AmqyPkwCR11eVttPVPn3R2/bPbB8pNfFc00RJTkktoYsR+5ipCwHGGe7FVCBSLj3YvlF5EkHF6LfcuFX4XAgYJtGxy7IM3tqwJj4SxSL3FhmRBl+ikx8SyxWVja66qazmon9vV1n1JkWn1O4XEFHFKzTNO5a5jMluihce683q33IQKw6YmAXvPvRdlmynQ7KuB+90z74OQWJv7Hn03YKBUdIJnEvEtKLidqpy1cDjB5ODR2TRpqnw=
  distributions: sdist bdist_wheel
