language: python
branches:
  only:
  - master
  - stable
python:
- '3.6'
install:
- pip3 install -r requirements.txt
- pip3 install python-coveralls
- pip3 install coverage
- pip3 install twine
script:
- coverage run --source outfit setup.py test
- python3 setup.py sdist bdist_wheel
after_success:
- coveralls
deploy:
  skip_cleanup: true
  provider: pypi
  user: situkangsayur
  password:
    secure: pypi-AgEIcHlwaS5vcmcCJGUxMTU4YWQyLTRmNzgtNDBhNS1iMjBkLTBkZWI3N2JkNDZlZAACPnsicGVybWlzc2lvbnMiOiB7InByb2plY3RzIjogWyJweXRob24tb3V0Zml0Il19LCAidmVyc2lvbiI6IDF9AAAGIKYBcCorqp2YNcRrMTAbxAxRs4qu4JcVUj5JCoPjaluz
  distributions: sdist bdist_wheel
