language: python
branches:
  only:
  - master
  - stable
python:
- '3.8'
install:
- pip3 install -r requirements.txt
- pip3 install python-coveralls
- pip3 install coverage
- pip3 install twine
script:
- coverage run --source outfit setup.py test
- python3 setup.py sdist bdist_wheel
after_success:
- coveralls
deploy:
  skip_cleanup: true
  provider: pypi
  user: __token__
  password:
    secure: TM1S6xgpbogVVwNDDZLOHGdQrlESC1vRgDBqp4saFiijVBcy02IJByCFu4B6BoPW+tivK5avY/+LLi9aRktlNtqhlEYbPpLDYzcg+gPBF9MHPJzVJEQuhbdL2ZmZYXdDHY0RbXOZN9hFnB/oqVURngc6AXqgTJ8Owm/CxNrcPXXT2LsLnWZcbnV+LSCl+UF2th6eFGNLaqSKw6nCj9akgaG6EH+TzaEZAi/meRnmxx6ftNaUrv+mCw0r1423jbpJC22Korz+pgTmY/D8Eqplv2OyTum+oruPOx/IwJTNxAULEXC4IhsH8oGCg2JbXpkWxP2wAVKJuzFACDfCI5EkSpw5ptQrklKfqYLiTxgGATVoOrNvmXDScJUIaxCZojZpoC7DetBw2AGveDPoIvZFUbK1KzEBwcdxG+nhbbbo6K7HViTQIEzkge0NiL45GZ1ZsREY/GNyOS0c7JehHgLU7D9wsjhB2xfcO8lzukGF6We6CRbPT7e1tIJSzDjUYDpDoF6bRxSOoA2P/C6kmVcP2vIlst1I6Cwr67NPNMvGzcN/rDt2z2BrHl5RoxHkuVPuTszeeJKSckyFornTPpOwrM7oMtOEGddUORANsVmuzxL6+0EWv5lVHqX+eih0lIG/0rXL+d9HZsg4LcwZxJkgGQewVbtiMq2v0BSdqKYEsUY=
  distributions: sdist bdist_wheel
