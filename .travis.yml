language: python
branches:
  only:
  - master
  - stable
python:
- '3.8'
install:
- pip3 install -r requirements.txt
- pip3 install python-coveralls
- pip3 install coverage
- pip3 install twine
script:
- coverage run --source outfit setup.py test
- python3 setup.py sdist bdist_wheel
after_success:
- coveralls
deploy:
  skip_cleanup: true
  provider: pypi
  user: __token__
  password:
    secure: AbGgw95P64aSVpXdoIvlwR6h2a/F2HIzU2rj+qUUlWC+fYj5X39oAClznuaoL0HMi9tECHn01fudgqKMp/GILEPelNWVnw3JYBFrRyE8iqzqVrmS4VEKVo/hWHAihajkVagzl08IdyKYkkqegxMmEbOq7kyqjNWKsU5VlqR1QCFpMTHcTmbRCyvA46+5zR/F4flBY5qeFlXp8/WnRg3t7cmmENfL2Qo3DJBx30ptorweJDmhqE0fS+OGvzu+LleAgvQzFbo8+BHOCyiaQspafgtbQZesqgmrDxshaQ5uW1pbtXfBAoQfwtKSRNKIjGTgNzQdcdLZMdwUgHyHgEEnDLSDN1t3x4kTcnZ5PkQ8CG4ir95fHkz401WIhEVfo+Cm3TR+q9qgx8IrxHTuqiqJwBAkVfgpOQIl4by8kPqKhwBfNQP9Rt9tI+ysX7AFuVYYknkFa+C3xuePAHKBdv6yYrpTNBjz2rJD5q0QNTlps4qvfnrNwanLEqqTi3hlbqOqJqqG4SP4uBk0ZR8I+5ZWGWDaIoC9m0TuKHFeeVyhoNGHii12WUCiP4u/xdRcc38Yat/zcGktmtYsMlpSTx5QLxIkSWtU6Eh6FmO0ahtgVoN1nqlCCa0PtL+XRNbjvLlaPKt6ZAkNXjcSgrG2535h/Rcya5f8yn8GPEMEtAHwjQY=
  distributions: sdist bdist_wheel
