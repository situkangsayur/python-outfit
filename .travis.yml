language: python
branches:
  only:
  - master
  - stable
python:
- '3.8'
install:
- pip3 install -r requirements.txt
- pip3 install python-coveralls
- pip3 install coverage
- pip3 install twine
script:
- coverage run --source outfit setup.py test
- python3 setup.py sdist bdist_wheel
after_success:
- coveralls
deploy:
  skip_cleanup: true
  provider: pypi
  user: __token__
  password:
    secure: ajE+Tt0PqzIOJuRWbQ/J7kajcGrkNQR2LdlluFjcxalmA+rMJAo6PROSE3lKJCAzr7cerHwpHgrgiVMiBKqpxFSRH0+c5f2GQIPajdtIt76YZ95wfh3FgqceI4rkkLe80HoBMIuzEixgmfnSPoAfqCfcKCaYdlkoedQPrh1Z5SNjHp3hjskxheTnOpRBpz8E8Z5IYkGpnG+Z8iskLZlRlRtL0E9HPyVY5VYd4aCDj5axyA63Z+yyn64+p/AReWn+66lO9GvPAHMVt/Y0G1aALQN4xr1GfXzQ9FeOjNKYJ46KzEC/WMo5PxTrUheprKf/D/5Xew92nVi0VCuGqjjlPWVVNm7bKZF8khv5kJLe2Az/P5zZ2mclHQVRtVdaDvjRty06NaYuFZ2ihYJczZFybT5SQDAgofuAyYWdtYh2TQXFT4n9Iu5lYYIDy2+ZZI0k7h1l0P2y2HrBAcSCoQHiHXvFQvaCLS02XzBNLvMwPVCZa0qmGc8BQDIrVbunUyEkLwt8XhQ6XJPeFOLlhHTFQCJKY7KIWWlRopqgHQf4hs7qZyBBKXpq2LbKG0q7uu6908JiBs8aoB3F9Ak5pKZpn/kBwJ7xdPuxgp/V1m4CfdBHaLOjQr0neei+K+RMYjiSLNvcYYPeaiSWo5CREf+hOWLwhMA2i9Pvl2txTnzi/es=
  distributions: sdist bdist_wheel
